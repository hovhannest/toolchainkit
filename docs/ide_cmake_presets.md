# CMake Presets

Generate CMakePresets.json for IDE integration and command-line builds.

## Quick Start

```bash
# Auto-generate CMakePresets.json
tkgen configure --presets
```

## Generated Presets File

```json
{
  "version": 3,
  "configurePresets": [
    {
      "name": "default",
      "generator": "Ninja",
      "binaryDir": "${sourceDir}/build",
      "cacheVariables": {
        "CMAKE_TOOLCHAIN_FILE": "${sourceDir}/.toolchainkit/cmake/toolchain.cmake",
        "CMAKE_BUILD_TYPE": "Release"
      }
    },
    {
      "name": "debug",
      "inherits": "default",
      "cacheVariables": {
        "CMAKE_BUILD_TYPE": "Debug"
      }
    }
  ],
  "buildPresets": [
    {
      "name": "default",
      "configurePreset": "default"
    },
    {
      "name": "debug",
      "configurePreset": "debug"
    }
  ],
  "testPresets": [
    {
      "name": "default",
      "configurePreset": "default"
    }
  ]
}
```

## Usage

```bash
# Configure
cmake --preset=default

# Build
cmake --build --preset=default

# Test
ctest --preset=default
```

## IDE Support

Supported by:
- **VS Code** (CMake Tools extension)
- **CLion** (Native support)
- **Visual Studio** (2019+)
- **Qt Creator** (6.0+)

## API

```python
from toolchainkit.cmake.presets import generate_cmake_presets

generate_cmake_presets(
    project_root=Path("."),
    toolchain_file=Path(".toolchainkit/cmake/toolchain.cmake"),
    build_types=["Debug", "Release", "RelWithDebInfo"],
    generator="Ninja"
)
```

## Custom Presets

```json
{
  "version": 3,
  "configurePresets": [
    {
      "name": "dev",
      "generator": "Ninja",
      "binaryDir": "${sourceDir}/build-dev",
      "cacheVariables": {
        "CMAKE_TOOLCHAIN_FILE": "${sourceDir}/.toolchainkit/cmake/toolchain.cmake",
        "CMAKE_BUILD_TYPE": "Debug",
        "CMAKE_EXPORT_COMPILE_COMMANDS": "ON",
        "BUILD_TESTING": "ON"
      }
    }
  ]
}
```

## Integration

Auto-generated by: `tkgen configure --presets`
