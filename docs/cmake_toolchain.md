# CMake Toolchain Generation

Generate CMake toolchain files for hermetic builds.

## Quick Start

```python
from toolchainkit.cmake.toolchain_generator import generate_toolchain_file
from pathlib import Path

generate_toolchain_file(
    toolchain_dir=Path("/opt/llvm-18"),
    toolchain_type="llvm",
    output_path=Path(".toolchainkit/cmake/toolchain.cmake"),
    stdlib="libc++",
    linker="lld",
    build_type="Release"
)
```

## Generated File Example

```cmake
# Auto-generated by ToolchainKit
set(CMAKE_SYSTEM_NAME Linux)
set(CMAKE_C_COMPILER "/opt/llvm-18/bin/clang")
set(CMAKE_CXX_COMPILER "/opt/llvm-18/bin/clang++")
set(CMAKE_CXX_FLAGS_INIT "-stdlib=libc++")
set(CMAKE_EXE_LINKER_FLAGS_INIT "-fuse-ld=lld")
set(CMAKE_C_COMPILER_LAUNCHER "sccache")
set(CMAKE_CXX_COMPILER_LAUNCHER "sccache")
```

## API

```python
def generate_toolchain_file(
    toolchain_dir: Path,
    toolchain_type: str,      # "llvm", "gcc", "msvc"
    output_path: Path,
    stdlib: Optional[str] = None,
    linker: Optional[str] = None,
    build_type: str = "Release",
    cache_tool: Optional[str] = None,
    package_manager: Optional[str] = None
) -> None
```

## Features

- **Compiler Paths**: Automatic compiler detection
- **Stdlib**: libc++, libstdc++, MSVC stdlib
- **Linker**: lld, gold, mold, bfd
- **Build Cache**: sccache/ccache launcher
- **Package Managers**: Conan/vcpkg integration
- **Cross-Compilation**: Android, iOS, Raspberry Pi

## Usage with CMake

```bash
cmake -B build \
  -DCMAKE_TOOLCHAIN_FILE=.toolchainkit/cmake/toolchain.cmake \
  -DCMAKE_BUILD_TYPE=Release
```

## Integration

Used by: `tkgen configure`, CMake Presets generation
